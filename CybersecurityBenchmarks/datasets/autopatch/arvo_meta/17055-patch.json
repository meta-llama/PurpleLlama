[
  {
    "filename": "decoder/ihevcd_parse_headers.c",
    "patch": "-1565,7 +1565,13 @@ IHEVCD_ERROR_T ihevcd_parse_sps(codec_t *ps_codec)\n     ps_sps->i1_num_short_term_ref_pic_sets = value;\n \n     for(i = 0; i < ps_sps->i1_num_short_term_ref_pic_sets; i++)\n-        ihevcd_short_term_ref_pic_set(ps_bitstrm, &ps_sps->as_stref_picset[0], ps_sps->i1_num_short_term_ref_pic_sets, i, &ps_sps->as_stref_picset[i]);\n+    {\n+        ret = ihevcd_short_term_ref_pic_set(ps_bitstrm, &ps_sps->as_stref_picset[0], ps_sps->i1_num_short_term_ref_pic_sets, i, &ps_sps->as_stref_picset[i]);\n+        if (ret != IHEVCD_SUCCESS)\n+        {\n+            return ret;\n+        }\n+    }\n \n     BITS_PARSE(\"long_term_ref_pics_present_flag\", value, ps_bitstrm, 1);\n     ps_sps->i1_long_term_ref_pics_present_flag = value;\n",
    "summary": "commit 366a34842d67cb61d5ef57b244d95802615012c5\nAuthor: Harish Mahendrakar <harish.mahendrakar@ittiam.com>\nDate:   Fri Mar 29 13:49:50 2019 -0700\n\n    Add missing return check for short_term_ref_pic_set()\n    \n    Bug: 129401104\n    Bug: 130025324\n    Test: vendor\n    Change-Id: I685dd29ec13cca0ced5de8eb3aea1d0da5952a62\n    (cherry picked from commit 299cceb9e492c62039a6b5780b3efdd093be1c3b)\n"
  },
  {
    "filename": "decoder/ihevcd_parse_slice_header.c",
    "patch": "-436,12 +436,15 @@ IHEVCD_ERROR_T ihevcd_parse_slice_header(codec_t *ps_codec,\n             }\n             else\n             {\n-                ihevcd_short_term_ref_pic_set(ps_bitstrm,\n-                                              &ps_sps->as_stref_picset[0],\n-                                              ps_sps->i1_num_short_term_ref_pic_sets,\n-                                              ps_sps->i1_num_short_term_ref_pic_sets,\n-                                              &ps_slice_hdr->s_stref_picset);\n-\n+                ret = ihevcd_short_term_ref_pic_set(ps_bitstrm,\n+                                                    &ps_sps->as_stref_picset[0],\n+                                                    ps_sps->i1_num_short_term_ref_pic_sets,\n+                                                    ps_sps->i1_num_short_term_ref_pic_sets,\n+                                                    &ps_slice_hdr->s_stref_picset);\n+                if (ret != IHEVCD_SUCCESS)\n+                {\n+                    return ret;\n+                }\n                 st_rps_idx = ps_sps->i1_num_short_term_ref_pic_sets;\n                 num_neg_pics = ps_slice_hdr->s_stref_picset.i1_num_neg_pics;\n                 num_pos_pics = ps_slice_hdr->s_stref_picset.i1_num_pos_pics;"
  }
]
